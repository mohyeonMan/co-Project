<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="userSQL">
 	<insert id="write" parameterType="user"><!-- 풀쿼리네임 써주세요. -->
 	insert into usertable values(#{name},#{id},#{pwd}) <!-- #{} ?와 똑같은 방법. 변수명과 같은 이름의 컬럼으로 알아서 들어간다.-->
 	</insert>
 	
 	<select id="getList" resultType="user">
 	select * from usertable
 	</select>
 	
 	<select id="getUser" parameterType="String" resultType="user"> <!-- parameter, return 꼼꼼히 확인할것.... -->
 	select * from usertable where id=#{id}
 	</select>
 	
 	<select id="checkId" parameterType="String" resultType="int"> <!-- parameter, return 꼼꼼히 확인할것.... -->
 	select count(*) from usertable where id=#{id}
 	</select>
 	
 	<update id="update" parameterType="java.util.Map">
 	update usertable set name=#{name}, pwd=#{pwd} where id=#{id}
 	</update>
 	
 	<delete id="delete" parameterType="user">
 	delete from usertable where id=#{id} and name=#{name} and pwd=#{pwd}
 	</delete>
 	
 	<select id="search" parameterType="java.util.Map" resultType="user" > <!-- parameter, return 꼼꼼히 확인할것.... -->
 	select * from usertable where  	
 	${colName} like '%'||#{value}||'%'
 	</select>
 	<select id="myBidList" parameterType="map" resultType="bid" >
  		<!-- 물건 번호순,안에서 시간순으로 정렬 -->
  		select * from bid where id = #{id} order by product_seq,bidtime
  		<!-- select * from bid where id = #{id} order by bidprice 전체 시간 -->
  	</select>
  	<select id="userDetail" parameterType="map" resultType="user">
  	select * from usertable where id = #{id}
  	</select>
  		<select id="myBidList1" parameterType="map" resultType="bid" >
  		
  		<!-- 최신 상품순,안에서 시간순으로 정렬 -->
  		select * from bid where id = #{id} order by product_seq desc,bidtime
  		
  		<!-- select * from bid where id = #{id} order by bidprice 전체 시간 -->
  	</select>
  		<select id="myBidList2" parameterType="map" resultType="bid" >
  		
  		
  		<!-- 높은 입찰가 순,안에서 시간순으로 정렬 -->
  		select * from bid where id = #{id} order by bidprice desc,product_seq
  		
  		<!-- select * from bid where id = #{id} order by bidprice 전체 시간 -->
  	</select>
</mapper>
